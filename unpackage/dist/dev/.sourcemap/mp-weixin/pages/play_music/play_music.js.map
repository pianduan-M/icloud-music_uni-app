{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/pages/play_music/play_music.vue?b5e3","webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/pages/play_music/play_music.vue?b1fc","webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/pages/play_music/play_music.vue?702b","webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/pages/play_music/play_music.vue?0ac8","uni-app:///pages/play_music/play_music.vue","webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/pages/play_music/play_music.vue?1758","webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/pages/play_music/play_music.vue?c3a9"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2G;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAqoB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+HzpB;;;;;;AAMA;AACA;;;;;AAKA,kG,wnCADA,uB;;;;;;;AAQA;AACA,MADA,kBACA;AACA;AACA,oCADA;AAEA,uBAFA;AAGA,wBAHA;AAIA,uBAJA;AAKA,4BALA;AAMA,uBANA;AAOA,eAPA;AAQA,sBARA;AASA,sBATA;AAUA;AACA,uBAXA;AAYA,iBAZA;AAaA;AACA,2BAdA;;AAgBA,GAlBA;AAmBA,SAnBA,qBAmBA;;AAEA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KAJA;AAKA,GA1BA;AA2BA,QA3BA,oBA2BA;AACA;AACA;AACA;AACA,GA/BA;AAgCA;AACA,oCADA;AAEA,kBAFA,EAhCA;;AAoCA,QApCA,oBAoCA;AACA;AACA,GAtCA;AAuCA;AACA,wBADA,gCACA,CADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAZA;AAaA,+FAbA;AAcA;AACA,YAfA,sBAeA;AACA;AACA;AACA;AACA,OAFA;AAGA;;AAEA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA,KA5BA;AA6BA;AACA,kBA9BA,4BA8BA;AACA;AACA;AACA,2BADA;;AAGA;AACA;AACA;AACA,KAtCA;AAuCA;AACA,kBAxCA,4BAwCA;AACA;AACA;AACA,2BADA;;AAGA;AACA;AACA;AACA,KAhDA;AAiDA;AACA,kBAlDA,4BAkDA;AACA;AACA;AACA,2BADA;;AAGA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA/DA;AAgEA;AACA,oBAjEA,8BAiEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA,CACA,WADA;AAEA;AACA,kCADA;;;AAIA,OAxBA,EAwBA,SAxBA;AAyBA,KA5FA;AA6FA;AACA,mBA9FA,6BA8FA;AACA;AACA,KAhGA;AAiGA;AACA,kBAlGA,4BAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAZA;;AAcA;AACA,sBADA;;AAGA,KArHA;AAsHA;AACA,uBAvHA,+BAuHA,CAvHA,EAuHA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCADA;;AAGA;AACA;AACA;AACA,KAxJA;AAyJA;AACA,iBA1JA,2BA0JA;AACA;;AAEA;;AAEA;AACA;AACA,2BADA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KArLA;AAsLA;AACA,gBAvLA,0BAuLA;AACA;AACA;AACA;AACA;AACA,KA5LA;AA6LA,gBA7LA,0BA6LA;AACA;AACA,KA/LA;AAgMA;AACA,UAjMA,oBAiMA;AACA;AACA,gBADA;;AAGA,KArMA,GAvCA;;AA8OA;AACA,kFADA;AAEA,wCAFA,CA9OA,E;;;;;;;;;;;;;AClJA;AAAA;AAAA;AAAA;AAAwqC,CAAgB,okCAAG,EAAC,C;;;;;;;;;;;ACA5rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/play_music/play_music.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/play_music/play_music.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./play_music.vue?vue&type=template&id=3a3a1306&\"\nvar renderjs\nimport script from \"./play_music.vue?vue&type=script&lang=js&\"\nexport * from \"./play_music.vue?vue&type=script&lang=js&\"\nimport style0 from \"./play_music.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/play_music/play_music.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play_music.vue?vue&type=template&id=3a3a1306&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm.currentSong ? _vm._f(\"FormatDate\")(_vm.currentTime * 1000) : null\n  var f1 = _vm.currentSong ? _vm._f(\"FormatDate\")(_vm.currentSong.dt) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play_music.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play_music.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"play_music\">\r\n\t\t<!-- 自定义导航 -->\r\n\t\t<NavBar>\r\n\t\t\t<template v-slot:center>\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<view class=\"songname\">{{currentSong.name}}</view>\r\n\t\t\t\t\t<view class=\"songSinger\">{{currentSong.ar[0].name || currentSong.artists[0].name}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:left>\r\n\t\t\t\t<view class=\"goback\" @click.stop=\"goback\">\r\n\t\t\t\t\t<text class=\"iconfont icon-back\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t</NavBar>\r\n\r\n\t\t<!-- 背景 -->\r\n\t\t<view class=\"song_bg \">\r\n\t\t\t<image :src=\"currentSong.al.picUrl || defaultBgImg\" mode=\"scaleToFill\"></image>\r\n\t\t\t<view class=\"bg_mask\"></view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 封面 -->\r\n\t\t<view class=\"play_cover_wrap\" :class=\"{show:isShowCover}\" @touchstart=\"handleSwichtCoverLrc\"\r\n\t\t\t@touchend=\"handleSwichtCoverLrc\">\r\n\r\n\t\t\t<view class=\"song-disc\">\r\n\t\t\t<!-- 磁头 -->\r\n\t\t\t<view class=\"needle \" :class=\"{song_disc_rotate:!isPlay}\">\r\n\t\t\t\t<image class=\"img\" src=\"../../static/images/needle.png\" mode=\"aspectFill\"></image>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"song-turn\" :style=\"{transform:'rotate('+coverRotateDeg+'deg)'}\">\r\n\t\t\t\t<view class=\"song-rollwrap\">\r\n\t\t\t\t\t<view class=\"song-img a-circling z-pause\">\r\n\t\t\t\t\t\t<image class=\"u-img \" mode=\"aspectFill\" :src=\"currentSong.al.picUrl\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"song-lgour\">\r\n\t\t\t\t\t<view class=\"song-light a-circling z-pause\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<span class=\"song-plybtn\"></span>\r\n\t\t</view>\r\n\t</view>\r\n\r\n\t<!-- 底部控制栏 -->\r\n\t<view class=\"play_tools\">\r\n\t\t<!-- 顶部功能按钮 -->\r\n\t\t<view class=\"tools_head\">\r\n\t\t\t<text class=\"iconfont icon-aixin\"></text>\r\n\t\t\t<text class=\"iconfont icon-xiazai\"></text>\r\n\t\t\t<text class=\"iconfont icon-changge\"></text>\r\n\t\t\t<text class=\"iconfont icon-comment-\"></text>\r\n\t\t\t<text class=\"iconfont icon-diandiandianshu\"></text>\r\n\t\t</view>\r\n\t\t<!-- 中间进度条 -->\r\n\t\t<view class=\"tools_progress_wrap\">\r\n\t\t\t<!-- 当前播放事件 -->\r\n\t\t\t<view class=\"current_time time\" v-if=\"currentSong\">\r\n\t\t\t\t{{(currentTime * 1000) | FormatDate}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"current_time time\" v-if=\"!currentSong\">00:00</view>\r\n\r\n\r\n\t\t\t<!-- 播放进度条 -->\r\n\t\t\t<view class=\"progress_container\" @touchstart=\"handleTouchProgress\" @touchmove=\"handleTouchProgress\"\r\n\t\t\t\t@touchend=\"handleTouchProgress\">\r\n\t\t\t\t<view class=\"progress_wrap\">\r\n\t\t\t\t\t<view class=\"progress_inner\" :style=\"{width:progressLength+'%' }\"></view>\r\n\t\t\t\t\t<view class=\"progress_btn\" :style=\"{left:progressLength+'%' }\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 总时间 -->\r\n\t\t\t<view class=\"total_time time\" v-if=\"currentSong\">{{ currentSong.dt | FormatDate}}</view>\r\n\r\n\t\t\t<view class=\"total_time time\" v-if=\"!currentSong\">00:00</view>\r\n\t\t</view>\r\n\t\t<!-- 底部媒体按钮 -->\r\n\t\t<view class=\"tools_play_btn\">\r\n\t\t\t<view class=\"other_btn_wrap\">\r\n\t\t\t\t<view class=\"play_mode\" @click=\"switchPlayMode\">\r\n\t\t\t\t\t<!-- <text class=\"iconfont icon-xunhuan\"></text> -->\r\n\t\t\t\t\t<text class=\"iconfont\" :class=\"'icon-'+playMode\"></text>\r\n\t\t\t\t\t<!-- <text class=\"iconfont icon-suiji\"></text> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"play_menu\" @click=\"showSongList\">\r\n\t\t\t\t\t<text class=\"iconfont icon-bofangliebiao\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"play_btn_wrap\">\r\n\t\t\t\t<text class=\"pre_btn\" id=\"pre\" @click=\"switchPrevSong\">\r\n\t\t\t\t\t<text class=\"iconfont icon-shangyishou\"></text>\r\n\t\t\t\t</text>\r\n\t\t\t\t<text class=\"paly_btn\" @click=\"switchPlaySong\">\r\n\t\t\t\t\t<text class=\"iconfont\" :class=\"'icon-'+ (isPlay?'zanting':'bofang1')\"></text>\r\n\t\t\t\t</text>\r\n\t\t\t\t<view class=\"next_btn\" id=\"next\" @click=\"switchNextSong\">\r\n\t\t\t\t\t<text class=\"iconfont icon-shangyishou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\r\n\t<!-- 歌词 -->\r\n\t<view class=\"lyrics_container\" :class=\"{show:!isShowCover}\" @touchstart=\"handleSwichtCoverLrc\" id=\"lyrics_container\"\r\n\t\t@touchend=\"handleSwichtCoverLrc\">\r\n\t\t<scroll-view class=\"scrollLyrics\" enhanced scroll-y :show-scrollbar=\"false\" scroll-with-animation\r\n\t\t\t:scroll-into-view=\"'lrc_'+lrc_scroll_id\" v-if=\"lyrics.length>0\">\r\n\t\t\t<view v-for=\"(item, index) in lyrics\" :key=\"index\" class=\"lrc_item\" :class=\"{current:index === lrc_id}\"\r\n\t\t\t\t:id=\"'lrc_'+index\">\r\n\t\t\t\t<view class=\"lrc\">{{item.lyric}}</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<view class=\"no_lyrics\" v-if=\"lyrics.length === 0\">纯音乐没有歌词</view>\r\n\t</view>\r\n\r\n\t<!-- 播放列表 -->\r\n\t<CurrentPlayList ref=\"playlistRef\" @closePopup=\"hideSongList\" />\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapGetters,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\r\n\timport request from '@/request/index'\r\n\timport {\r\n\t\tshowToast\r\n\t} from '@/utils/utils'\r\n\r\n\tvar appInst = getApp();\r\n\timport defaultBgImg from '@/static/images/heijiao.png'\r\n\r\n\t// 当前播放列表\r\n\timport CurrentPlayList from '@/components/CurrentPlayList/current-play-list.vue'\r\n\t// 自定义navbar\r\n\timport NavBar from '@/components/NavBar/nav-bar.vue'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdefaultBgImg: defaultBgImg,\r\n\t\t\t\tcoverRotateDeg: 0,\r\n\t\t\t\tcurrentTimeStr: '',\r\n\t\t\t\tprogressLength: 0,\r\n\t\t\t\tisTouchProgress: false,\r\n\t\t\t\tprogeress_ele: {},\r\n\t\t\t\tlrc_id: 0,\r\n\t\t\t\tlrcWrapheight: 0,\r\n\t\t\t\tlrc_scroll_id: 0,\r\n\t\t\t\t// 控制歌词显示隐藏\r\n\t\t\t\tisShowCover: true,\r\n\t\t\t\tlrcTop: 100,\r\n\t\t\t\t// 播放列表控制\r\n\t\t\t\tiSshowSongList: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getNodes()\r\n\t\t\t\t}, 300)\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif (this.currentSong) {\r\n\t\t\t\tthis.listenTimeUpdate()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tCurrentPlayList,\r\n\t\t\tNavBar\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tthis.clearlistenTime()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleSwichtCoverLrc(e) {\r\n\t\t\t\t// 只有手指开始坐标 跟 抬起是一样的 才需要切换页面\r\n\t\t\t\tif (e.type === 'touchstart') {\r\n\t\t\t\t\tthis.x = e.changedTouches[0].pageX\r\n\t\t\t\t}\r\n\t\t\t\tif (e.type === 'touchend') {\r\n\t\t\t\t\tif (Math.abs(this.x - e.changedTouches[0].pageX) <= 2) {\r\n\r\n\t\t\t\t\t\tthis.isShowCover = !this.isShowCover\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t...mapMutations(['prev', 'next', 'setPlayMode', 'setSongPlayTime', 'setCurrentTime']),\r\n\t\t\t// 获取节点\r\n\t\t\tgetNodes() {\r\n\t\t\t\tthis.query = uni.createSelectorQuery().in(this)\r\n\t\t\t\tthis.query.select('.progress_wrap').boundingClientRect(res => {\r\n\t\t\t\t\tthis.progeress_ele = res\r\n\t\t\t\t})\r\n\t\t\t\tvar that = this\r\n\r\n\t\t\t\t// 容器节点 高度\r\n\t\t\t\tthis.query.select('#lyrics_container').boundingClientRect(function(res) {\r\n\t\t\t\t\tconst lrcWrapheight = res.height / 2\r\n\t\t\t\t\tthat.lrcWrapheight = lrcWrapheight\r\n\t\t\t\t})\r\n\t\t\t\tthis.query.exec()\r\n\t\t\t},\r\n\t\t\t// 上一首\r\n\t\t\tswitchPrevSong() {\r\n\t\t\t\tif (this.playlist.length === 0) {\r\n\t\t\t\t\tshowToast({\r\n\t\t\t\t\t\ttitle: '没有可播放的歌曲'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.prev()\r\n\t\t\t},\r\n\t\t\t// 下一首\r\n\t\t\tswitchNextSong() {\r\n\t\t\t\tif (this.playlist.length === 0) {\r\n\t\t\t\t\tshowToast({\r\n\t\t\t\t\t\ttitle: '没有可播放的歌曲'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.next()\r\n\t\t\t},\r\n\t\t\t// 播放 暂停\r\n\t\t\tswitchPlaySong() {\r\n\t\t\t\tif (this.playlist.length === 0) {\r\n\t\t\t\t\tshowToast({\r\n\t\t\t\t\t\ttitle: '没有可播放的歌曲'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.isPlay) {\r\n\t\t\t\t\tthis.$store.dispatch('switchPauseSong')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$store.dispatch('switchPlaySong')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 监听播放\r\n\t\t\tlistenTimeUpdate() {\r\n\t\t\t\tthis.intervalId && clearInterval(this.intervalId)\r\n\t\t\t\tthis.intervalId = setInterval(() => {\r\n\r\n\t\t\t\t\t// 封面旋转\r\n\t\t\t\t\tif (this.isPlay) {\r\n\t\t\t\t\t\tif (this.coverRotateDeg >= 360) {\r\n\t\t\t\t\t\t\tthis.coverRotateDeg = 1\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.coverRotateDeg += 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 设置进度条 \r\n\t\t\t\t\tif (!this.isTouchProgress) {\r\n\t\t\t\t\t\tthis.progressLength = ((this.currentTime * 1000) / this.currentSong.dt * 100).toFixed(3)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.isShowCover) {\r\n\t\t\t\t\t\tthis.getCurrentLrc()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst currentTime = appInst.globalData.BackgroundAudioManager && appInst.globalData\r\n\t\t\t\t\t\t.BackgroundAudioManager.currentTime\r\n\t\t\t\t\tthis.setCurrentTime({\r\n\t\t\t\t\t\tcurrentTime\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}, 1000 / 24)\r\n\t\t\t},\r\n\t\t\t// 清除监听\r\n\t\t\tclearlistenTime() {\r\n\t\t\t\tclearInterval(this.intervalId)\r\n\t\t\t},\r\n\t\t\t// 切换播放模式\r\n\t\t\tswitchPlayMode() {\r\n\t\t\t\tlet message = ''\r\n\t\t\t\tswitch (this.playMode) {\r\n\t\t\t\t\tcase 'list':\r\n\t\t\t\t\t\tthis.setPlayMode('one')\r\n\t\t\t\t\t\tmessage = '单曲循环'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'one':\r\n\t\t\t\t\t\tthis.setPlayMode('random')\r\n\t\t\t\t\t\tmessage = '随机播放'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'random':\r\n\t\t\t\t\t\tthis.setPlayMode('list')\r\n\t\t\t\t\t\tmessage = '列表循环'\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tshowToast({\r\n\t\t\t\t\ttitle: message\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 手动拖动进度条\r\n\t\t\thandleTouchProgress(e) {\r\n\t\t\t\tif (!this.currentSong) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst duration = this.currentSong.dt\r\n\r\n\t\t\t\tlet pageX = e.changedTouches[0].pageX - this.progeress_ele.left\r\n\r\n\t\t\t\tpageX = pageX > this.progeress_ele.width ? this.progeress_ele.width : pageX\r\n\t\t\t\tpageX = pageX < 0 ? 0 : pageX\r\n\r\n\t\t\t\tconst progress_width = this.progeress_ele.width\r\n\t\t\t\tconst currentTime = (pageX / progress_width * duration) / 1000\r\n\r\n\t\t\t\tif (e.type == 'touchstart') {\r\n\t\t\t\t\t// 停止自动进度条\r\n\t\t\t\t\tthis.isTouchProgress = true\r\n\t\t\t\t}\r\n\t\t\t\tif (e.type == 'touchmove') {\r\n\t\t\t\t\tlet progressLength = (currentTime * 1000) / this.currentSong.dt * 100\r\n\t\t\t\t\tprogressLength = progressLength > 100 ? 100 : progressLength\r\n\t\t\t\t\tprogressLength = progressLength < 0 ? 0 : progressLength\r\n\t\t\t\t\tthis.progressLength = progressLength\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (e.type == 'touchend') {\r\n\t\t\t\t\tthis.setSongPlayTime({\r\n\t\t\t\t\t\tcurrentTime\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// 开启自动进度条\r\n\t\t\t\t\tthis.isTouchProgress = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 匹配当前歌词\r\n\t\t\tgetCurrentLrc() {\r\n\t\t\t\t// 匹配歌词\r\n\r\n\t\t\t\tif (this.lyrics.length <= 0) return\r\n\r\n\t\t\t\t// 找出匹配的歌词的下标\r\n\t\t\t\tlet index = this.lyrics.findIndex((item, index, arr) => this.currentTime >= item.time && this.currentTime <\r\n\t\t\t\t\tarr[index + 1].time)\r\n\t\t\t\tindex = index === -1 ? this.lrc_id : index\r\n\r\n\t\t\t\tconst that = this\r\n\t\t\t\t// 下标不同才需要设置滚动\r\n\t\t\t\tif (index !== this.lrc_id) {\r\n\t\t\t\t\tthis.lrc_id = index\r\n\t\t\t\t\t// // 获取当前歌词的高度\r\n\t\t\t\t\tthis.query.select('#lrc_' + index).boundingClientRect(function(res) {\r\n\t\t\t\t\t\tthat.lrcheight = res.height || that.lrcheight\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.query.exec()\r\n\t\t\t\t\t// 除以容器一半高度 主要是scroll-view组件 滚动到对应元素身上是在最顶部所以需要往后推几位 使当前歌词居中 此方法效果一般 暂时没有找到更好的\r\n\t\t\t\t\tlet lrcCenterIndex = Math.floor(this.lrcWrapheight / that.lrcheight)\r\n\r\n\t\t\t\t\t// // // 跳转到对应歌词\r\n\t\t\t\t\tindex = index - lrcCenterIndex\r\n\t\t\t\t\tindex = index < 0 ? 0 : index\r\n\t\t\t\t\tthis.lrc_scroll_id = index\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 打开播放列表\r\n\t\t\tshowSongList() {\r\n\t\t\t\tif (!this.iSshowSongList) {\r\n\t\t\t\t\tthis.iSshowSongList = true\r\n\t\t\t\t\tthis.$refs.playlistRef.openPopup()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thideSongList() {\r\n\t\t\t\tthis.iSshowSongList = false\r\n\t\t\t},\r\n\t\t\t// 返回\r\n\t\t\tgoback() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['lyrics', 'playMode', 'currentTime', 'isPlay', 'playlist']),\r\n\t\t\t...mapGetters(['currentSong']),\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t@import './index.less';\r\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play_music.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play_music.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1621938589624\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}