{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/App.vue?938c","uni-app:///App.vue","webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/App.vue?ba13","webpack:///D:/code/uni-app/iCloudMusic/iCloudMusic/App.vue?83df"],"names":["Vue","config","productionTip","filter","num","Math","round","originVal","dt","Date","hh","getHours","padStart","mm","getMinutes","ss","getSeconds","App","mpType","app","store","$mount"],"mappings":";;;;;;;;;iDAAA,wCAAmB;AACnB;AACA,oF;;;AAGAA,aAAIC,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACA;AACAF,aAAIG,MAAJ,CAAW,iBAAX,EAA8B,UAASC,GAAT,EAAc;AAC3C,MAAIA,GAAG,IAAI,SAAX,EAAsB;AACrB,WAAOC,IAAI,CAACC,KAAL,CAAWF,GAAG,GAAG,QAAjB,IAA6B,EAA7B,GAAkC,GAAzC;AACA,GAFD,MAEO,IAAIA,GAAG,IAAI,KAAX,EAAkB;AACxB,WAAOC,IAAI,CAACC,KAAL,CAAWF,GAAG,GAAG,IAAjB,IAAyB,EAAzB,GAA8B,GAArC;AACA,GAFM,MAEA;AACN,WAAOA,GAAP;AACA;AACD,CARD;AASAJ,aAAIG,MAAJ,CAAW,YAAX,EAAyB,UAASI,SAAT,EAAoB;;AAE5C,MAAI,CAACA,SAAL,EAAgB,OAAO,OAAP;AAChB,MAAMC,EAAE,GAAG,IAAIC,IAAJ,CAASF,SAAT,CAAX;AACA,MAAMG,EAAE,GAAG,CAACF,EAAE,CAACG,QAAH,KAAgB,EAAjB,EAAqBC,QAArB,CAA8B,CAA9B,EAAiC,GAAjC,CAAX;AACA,MAAMC,EAAE,GAAG,CAACL,EAAE,CAACM,UAAH,KAAkB,EAAnB,EAAuBF,QAAvB,CAAgC,CAAhC,EAAmC,GAAnC,CAAX;AACA,MAAMG,EAAE,GAAG,CAACP,EAAE,CAACQ,UAAH,KAAkB,EAAnB,EAAuBJ,QAAvB,CAAgC,CAAhC,EAAmC,GAAnC,CAAX;AACA,mBAAUC,EAAV,cAAgBE,EAAhB;AACA,CARD;;AAUAE,aAAIC,MAAJ,GAAa,KAAb;;;;AAIA,IAAMC,GAAG,GAAG,IAAInB,YAAJ;AACXoB,OAAK,EAALA,cADW;AAERH,YAFQ,EAAZ;;AAIA,UAAAE,GAAG,EAACE,MAAJ,G;;;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACa;;;AAG/D;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAgmB,CAAgB,6mBAAG,EAAC,C;;;;;;;;;;;;ACCpnB;;;;;;AAMA;;AAEA,0D;;;;AAIA;AACA;AACA;AACA,GAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AAEA;AACA,4CADA;;AAGA,SAXA;;AAaA;AACA,GApBA;AAqBA,8BArBA;AAsBA;AACA,gCADA,EAtBA;;AAyBA;AACA;AACA,mBADA,EACA,UADA,EACA,aADA,EACA,cADA,EADA;;AAIA;AACA,iBALA,2BAKA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA,OAHA;;AAKA;AACA;AACA;AACA;AACA,wBADA;;AAGA;AACA,OANA;AAOA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA,sBADA;;AAGA;AACA,OANA;AAOA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;;AAGA;AACA,gCADA;;AAGA;AACA,kCADA;;AAGA;AACA,sBADA;;;AAIA;AACA,0BADA;;AAGA;;AAEA,KA7EA,GAzBA;;;AAyGA;AACA;AACA,gBAFA,0BAEA;AACA;AACA,KAJA;AAKA,wCALA;AAMA,sCANA,CAzGA,E;;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAm3B,CAAgB,k2BAAG,EAAC,C;;;;;;;;;;ACAv4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';import Vue from 'vue'\r\nimport App from './App'\r\nimport store from './vuex/index.js'\r\n\r\n\r\nVue.config.productionTip = false\r\n// 全局事件过滤器 播放数量\r\nVue.filter('FormatPlayCount', function(num) {\r\n\tif (num >= 100000000) {\r\n\t\treturn Math.round(num / 10000000) / 10 + '亿'\r\n\t} else if (num >= 10000) {\r\n\t\treturn Math.round(num / 1000) / 10 + '万'\r\n\t} else {\r\n\t\treturn num\r\n\t}\r\n})\r\nVue.filter('FormatDate', function(originVal) {\r\n\r\n\tif (!originVal) return '00:00'\r\n\tconst dt = new Date(originVal)\r\n\tconst hh = (dt.getHours() + '').padStart(2, '0')\r\n\tconst mm = (dt.getMinutes() + '').padStart(2, '0')\r\n\tconst ss = (dt.getSeconds() + '').padStart(2, '0')\r\n\treturn `${mm}:${ss}`\r\n})\r\n\r\nApp.mpType = 'app'\r\n\r\n\r\n\r\nconst app = new Vue({\r\n\tstore,\r\n\t...App\r\n})\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapGetters,\r\n\t\tmapState\r\n\t} from 'vuex'\r\n\r\n\timport request from '@/request/index'\r\n\r\n\timport {\r\n\t\tshowToast\r\n\t} from '@/utils/utils'\r\n\r\n\texport default {\r\n\t\tonLaunch: function() {\r\n\t\t\tthis.initBackAudio()\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tif (uni.getBackgroundAudioPlayerState) {\r\n\t\t\t\tuni.getBackgroundAudioPlayerState({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.status === 0) {\r\n\t\t\t\t\t\t\tthis.pause()\r\n\t\t\t\t\t\t} else if (res.status === 1) {\r\n\t\t\t\t\t\t\tthis.play()\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.setCurrentTime({\r\n\t\t\t\t\t\t\tcurrentTime: res.currentPosition\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide: function() {},\r\n\t\tglobalData: {\r\n\t\t\tBackgroundAudioManager: null\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['play', 'pause', 'prev', 'next', 'setPlaylist', 'setCurrentTime', 'setAudioManager',\r\n\t\t\t\t'setCurrentIndex', 'setLyric', 'setPlayMode', 'saveUserInfo'\r\n\t\t\t]),\r\n\t\t\t// 监听 背景音乐各种事件\r\n\t\t\tinitBackAudio() {\r\n\r\n\t\t\t\tthis.globalData.BackgroundAudioManager = uni.getBackgroundAudioManager()\r\n\t\t\t\tthis.setAudioManager(this.globalData.BackgroundAudioManager)\r\n\t\t\t\t// 监听播放事件\r\n\t\t\t\tthis.globalData.BackgroundAudioManager.onPlay(() => {\r\n\t\t\t\t\tthis.play()\r\n\t\t\t\t})\r\n\t\t\t\t// 监听暂停\r\n\t\t\t\tthis.globalData.BackgroundAudioManager.onPause(() => {\r\n\t\t\t\t\tthis.pause()\r\n\t\t\t\t\tuni.setStorageSync('currentTime', this.currentTime)\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 监听音频播放错误事件\r\n\t\t\t\tthis.globalData.BackgroundAudioManager.onError(res => {\r\n\t\t\t\t\tthis.pause()\r\n\t\t\t\t\tshowToast({\r\n\t\t\t\t\t\ttitle: '播放错误！'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.setStorageSync('currentTime', this.currentTime)\r\n\t\t\t\t})\r\n\t\t\t\t// 背景音频自然播放结束事件\r\n\t\t\t\tthis.globalData.BackgroundAudioManager.onEnded(res => {\r\n\t\t\t\t\tthis.next()\r\n\t\t\t\t})\r\n\t\t\t\t// 用户在系统音乐播放面板点击上一曲事件\r\n\t\t\t\tthis.globalData.BackgroundAudioManager.onPrev(res => {\r\n\t\t\t\t\tthis.prev()\r\n\t\t\t\t})\r\n\t\t\t\t// 用户在系统音乐播放面板点击下一曲事件\r\n\t\t\t\tthis.globalData.BackgroundAudioManager.onNext(res => {\r\n\t\t\t\t\tthis.next()\r\n\t\t\t\t})\r\n\t\t\t\t// 音频加载中事件，当音频因为数据不足，需要停下来加载时会触发\r\n\t\t\t\tthis.globalData.BackgroundAudioManager.onWaiting(res => {\r\n\t\t\t\t\tthis.pause()\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.setStorageSync('currentTime', this.currentTime)\r\n\t\t\t\t})\r\n\t\t\t\t// 背景音频进入可以播放状态，但不保证后面可以流畅播放\r\n\t\t\t\tthis.globalData.BackgroundAudioManager.onWaiting(res => {\r\n\t\t\t\t\tthis.play()\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t\t//读取缓存数据\r\n\t\t\t\tconst userInfo = uni.getStorageSync('userInfo')|| {}\r\n\t\t\t\tconst playlist = uni.getStorageSync('playlist') || []\r\n\t\t\t\tconst currentTime = uni.getStorageSync('currentTime') || 0\r\n\t\t\t\tconst currentIndex = uni.getStorageSync('currentIndex') || 0\r\n\t\t\t\tconst playMode = uni.getStorageSync('playMode') || 'list'\r\n\t\t\t\tconst lyrics = uni.getStorageSync('lyrics') || []\r\n\t\t\t\tthis.setPlaylist({\r\n\t\t\t\t\tplaylist\r\n\t\t\t\t})\r\n\t\t\t\tthis.setCurrentTime({\r\n\t\t\t\t\tcurrentTime\r\n\t\t\t\t})\r\n\t\t\t\tthis.setCurrentIndex({\r\n\t\t\t\t\tcurrentIndex\r\n\t\t\t\t})\r\n\t\t\t\tthis.setLyric({\r\n\t\t\t\t\tlyrics\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.saveUserInfo({\r\n\t\t\t\t\tuserInfo\r\n\t\t\t\t})\r\n\t\t\t\tthis.setPlayMode(playMode)\r\n\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 监听当前索引发生变化\r\n\t\t\tcurrentIndex() {\r\n\t\t\t\treturn this.$store.state.currentIndex\r\n\t\t\t},\r\n\t\t\t...mapGetters(['currentSong']),\r\n\t\t\t...mapState(['currentTime'])\r\n\t\t},\r\n\t\t\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t /* #ifndef APP-PLUS-NVUE */\r\n\t\r\n\t\r\n\t/*每个页面公共css */\r\n\r\n\t@import './static/style/icofont.css';\r\n\t\r\n\t@import './static/style/comon.css';\r\n\r\n\timg {\r\n\t\twidth: 100%;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\timage {\r\n\t\twidth: 100%;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\tview {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\tuni-page-body {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\tpage {\r\n\t\theight: 100%;\r\n\t}\r\n\t/* #endif */\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1621938590373\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}